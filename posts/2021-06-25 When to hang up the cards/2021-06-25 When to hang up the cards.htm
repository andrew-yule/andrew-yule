<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN"
        "HTMLFiles/xhtml-math11-f.dtd">

<!-- Created with the Wolfram Language : www.wolfram.com -->

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
 <title>
  2021-06-25 When to hang up the cards
 </title>
 <link href="HTMLFiles/2021-06-25 When to hang up the cards.css" rel="stylesheet" type="text/css" />
</head>

<body>

<p class="Title">
 When To Hang Up The Cards
</p>



<p class="Text">
 This week&rsquo;s riddler was too interesting to pass up:
</p>



<p class="Abstract">
 Riddler solitaire is played with 11 cards: an ace, a two, a three, a four, a five, a six, a seven, an eight, a nine, a 10 and a joker. Each card is worth its face value in points, while the ace counts for 1 point. To play a game, you shuffle the cards so they are randomly ordered, and then turn them over one by one. You start with 0 points, and as you flip over each card your score increases by that card&rsquo;s points &mdash; as long as the joker hasn&rsquo;t shown up. The moment the joker appears, the game is over and your score is 0. The key is that you can stop any moment and walk away with a nonzero score.<br /><br />What strategy maximizes your expected number of points?
</p>



<p class="Text">
 As always, I like to solve these kinds of problems using simulation because it shows just how powerful computational approaches can be.<br /><br />Let&rsquo;s start first by creating the deck of cards and then we&rsquo;ll run a bunch of &ldquo;simulations&rdquo; by taking a random order of the cards many times.
</p>



<p class="Input">
 <img src="HTMLFiles/2021-06-25 When to hang up the cards_1.png" alt="2021-06-25 When to hang up the cards_1.png" width="281" height="19" style="vertical-align:middle" />
</p>

<p class="Output">
 <img src="HTMLFiles/2021-06-25 When to hang up the cards_2.png" alt="2021-06-25 When to hang up the cards_2.png" width="266" height="19" style="vertical-align:middle" />
</p>

<p class="Input">
 <img src="HTMLFiles/2021-06-25 When to hang up the cards_3.png" alt="2021-06-25 When to hang up the cards_3.png" width="441" height="19" style="vertical-align:middle" />
</p>

<p class="Text">
 Next, let&rsquo;s create a helper function to count of score for the given hand assuming we were to stop at anywhere from 1 - 11, noting however, that if we hit a &ldquo;J&rdquo; in one of our hands, we will then get a 0 score for that hand and number of cards combination.
</p>



<p class="Input">
 <img src="HTMLFiles/2021-06-25 When to hang up the cards_4.png" alt="2021-06-25 When to hang up the cards_4.png" width="682" height="77" style="vertical-align:middle" />
</p>

<p class="Text">
 Next, apply our helper function to the simulations and merge the results for the various number of cards dealt taking the average score.
</p>



<p class="Input">
 <img src="HTMLFiles/2021-06-25 When to hang up the cards_5.png" alt="2021-06-25 When to hang up the cards_5.png" width="315" height="19" style="vertical-align:middle" />
</p>

<p class="Input">
 <img src="HTMLFiles/2021-06-25 When to hang up the cards_6.png" alt="2021-06-25 When to hang up the cards_6.png" width="516" height="19" style="vertical-align:middle" />
</p>

<p class="Output">
 <img src="HTMLFiles/2021-06-25 When to hang up the cards_7.png" alt="2021-06-25 When to hang up the cards_7.png" width="740" height="44" style="vertical-align:middle" />
</p>

<p class="Text">
 We know this is an optimization function of some kind so we should be able to see some kind of global maximum in our results.
</p>



<p class="Input">
 <img src="HTMLFiles/2021-06-25 When to hang up the cards_8.png" alt="2021-06-25 When to hang up the cards_8.png" width="760" height="50" style="vertical-align:middle" />
</p>

<p class="Output">
 <img src="HTMLFiles/2021-06-25 When to hang up the cards_9.gif" alt="2021-06-25 When to hang up the cards_9.gif" width="500" height="254" style="vertical-align:middle" />
</p>

<p class="Text">
 And finally, let&rsquo;s determine which hand is the optimal one to call it quits for which for this game is at 5 hands with an average likely score somewhere around 15.
</p>



<p class="Input">
 <img src="HTMLFiles/2021-06-25 When to hang up the cards_10.png" alt="2021-06-25 When to hang up the cards_10.png" width="289" height="19" style="vertical-align:middle" />
</p>

<p class="Output">
 <img src="HTMLFiles/2021-06-25 When to hang up the cards_11.png" alt="2021-06-25 When to hang up the cards_11.png" width="131" height="19" style="vertical-align:middle" />
</p>





</body>

</html>
